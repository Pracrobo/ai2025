<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <h1>실시간 검색 기능</h1>
    <input type="text" id="searchInput" placeholder="검색">
    <ul id="itemList">
        <li>Apple</li>
        <li>Banana</li>
        <li>Orange</li>
        <li>Grape</li>
        <li>Peach</li>
        <li>Pineapple</li>
        <li>Strawberry</li>
        <li>Watermelon</li>
        <li>Mango</li>
        <li>Cherry</li>
        <li>Blueberry</li>
        <li>Raspberry</li>
        <li>Kiwi</li>
        <li>Pomegranate</li>
        <li>Lemon</li>
        <li>Lime</li>
        <li>Avocado</li>
        <li>Plum</li>
        <li>Passion fruit</li>
        <li>Fig</li>
      </ul>

      <script>
        //미션1. 실시간 검색 기능 구현
        // 1-1. 검색창의 입력결과를 가져온다.
        const inputMsg = document.getElementById("searchInput");
        const fruit_list = document.getElementById("itemList");
        const items = fruit_list.getElementsByTagName("li");
        const items2 = fruit_list.querySelectorAll("li");
        // inputMsg.addEventListener('keyup', () => {
        //   for (let i =0 ; i <items.length; i++) {
        //     const item = item[i];// 전체 목록에서 하나의 아이템(DOM)
        //     const text = item.textContent.toLowerCase(); //그 하나의 아이템의 글자(String)
        //     // 1-2. 해당 단어를 목록에 "포함"되어있는지 확인한다.(includes라는 내장함수)
        //     if(text.includes(inputMsg.value.toLowerCase())) {
        //     //사용자 입력한거에 있음
        //       item.style.display = '';

        //     }else{
        //     // 1-3. 해당되는 것은 보여주고 해당 되지 않는 것은 숨긴다(display none)
        //     item.style.display = 'none';
        //     }
        //   }
        // });
          // 대소문자에 대한 이슈가 있어서 검색을 어렵게 함
          // toUpperCase , toLowerCase 등으로 한쪽으로 변환해서 검색
        // 방법 2. forEach를 쓰려면, 배열 /리스트 형태가능 
        inputMsg.addEventListener('keyup', () => {
            // Array.from(items).forEach((item) => { //Array.from()에 넣고 Casting 캐스팅 = 변환하는 과정
            //   console.log(item);
            // });
          //2. 스프레드 연산자.  (...) 문법을 통해서 안에 있는 적절하게 패킹되어 있는 걸 개별요소로 풀어주는 연산자
          //list형태로 바뀜
          // [...items].forEach((item) => {
          //   console.log(item);
          // });
          // HTMLCollection을 NodeList 형태로 만듦
          items2.forEach((item) => {
            const text= item.textContent.toLowerCase();
            const filter = inputMsg.value.toLowerCase();
            if(text.toLowerCase().includes(filter)) {
              item.style.display ='';
            }else {
              item.style.display = 'none';
            }
          })
        });
      </script>
</body>
</html>