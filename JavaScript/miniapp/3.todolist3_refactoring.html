<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #todo-list li {
            cursor: pointer;
        }
        #todo-list li.done {
            text-decoration: line-through; /*취소선*/
        }
    </style>
</head>
<body>
    <h1>TODO List</h1>
    <input  id="todo" type="text" placeholder="할일 추가">
    <button id="add-list">Add</button>
    <hr>
    <ul id="todo-list">목록</ul>
    <script>
        // 미션 1. 투두리스트 동작하기
        const addButton =  document.getElementById('add-list');
        const todoInput = document.getElementById('todo');
        addButton.addEventListener('click', () => {
            const todoList = document.getElementById('todo-list');
            // 미션 1-1. 입력창안에 있는 값을 가져오기
            // 미션 1-2. ul에다가 추가하기
            // 입력값을 검증한다. -비어있다면 추가하지 않음
            // 공백 제거
            if(todoInput.value.trim() === '') return;

            // 미션 1-3. li를 새로 만들어서 ul에 추가한다.
            const new_list = document.createElement('li');
            // new_list.textContent = todoInput.value;
            new_list.innerHTML = `${todoInput.value} <button class="delete"> 삭제 </button>`;
            // 화면에 있는 입력값 DOM 요소를 초기화
            todoInput.value = null;
            
            // 미션 2. 완료 기능 구현
            // 미션 2-1. 각 요소마다 클릭 가능한 이벤트를 추가한다.
            new_list.addEventListener('click', () => {
                new_list.classList.toggle('done');
            });
            // 미션 2-2. 그 요소를 클릭했을때 디자인 속성을 추가(done)
            todoList.appendChild(new_list);

            //미션 3. 삭제 기능 추가
            // 미션 3-1. <button>추가
            // 미션 3-2. 해당 버튼에 이벤트 핸들러 추가
            // 미션 3-3. 해당 요소.remove()
            const deleteButton = new_list.querySelector('.delete');
            deleteButton.addEventListener('click', () => {
                new_list.remove();
            });

        });
        todoInput.addEventListener('keydown', (e) => {
            if(e.key === "Enter") {
                // dom안에있는 요소를 클릭한다면?
                addButton.click();
            }
        });
    
    </script>
</body>
</html>